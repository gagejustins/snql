{"version":3,"file":"RemoteDependencyData.js","sourceRoot":"","sources":["../../src/Telemetry/RemoteDependencyData.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { FieldType } from '../Enums';\r\nimport { ISerializable } from '../Interfaces/Telemetry/ISerializable';\r\nimport { Util } from '../Util';\r\nimport { AjaxHelper } from '../Util';\r\nimport { RemoteDependencyData as GeneratedRemoteDependencyData } from '../Interfaces/Contracts/Generated/RemoteDependencyData';\r\nimport { IDiagnosticLogger } from '@microsoft/applicationinsights-core-js';\r\n\r\nexport class RemoteDependencyData extends GeneratedRemoteDependencyData implements ISerializable {\r\n\r\n    public static envelopeType = \"Microsoft.ApplicationInsights.{0}.RemoteDependency\";\r\n    public static dataType = \"RemoteDependencyData\";\r\n\r\n    public aiDataContract = {\r\n        id: FieldType.Required,\r\n        ver: FieldType.Required,\r\n        name: FieldType.Default,\r\n        resultCode: FieldType.Default,\r\n        duration: FieldType.Default,\r\n        success: FieldType.Default,\r\n        data: FieldType.Default,\r\n        target: FieldType.Default,\r\n        type: FieldType.Default,\r\n        properties: FieldType.Default,\r\n        measurements: FieldType.Default,\r\n\r\n        kind: FieldType.Default,\r\n        value: FieldType.Default,\r\n        count: FieldType.Default,\r\n        min: FieldType.Default,\r\n        max: FieldType.Default,\r\n        stdDev: FieldType.Default,\r\n        dependencyKind: FieldType.Default,\r\n        dependencySource: FieldType.Default,\r\n        commandName: FieldType.Default,\r\n        dependencyTypeName: FieldType.Default,\r\n    }\r\n\r\n    /**\r\n     * Constructs a new instance of the RemoteDependencyData object\r\n     */\r\n    constructor(logger: IDiagnosticLogger, id: string, absoluteUrl: string, commandName: string, value: number, success: boolean, resultCode: number, method?: string, requestAPI: string = \"Ajax\", properties?: Object, measurements?: Object) {\r\n        super();\r\n\r\n        this.id = id;\r\n\r\n        this.duration = Util.msToTimeSpan(value);\r\n        this.success = success;\r\n        this.resultCode = resultCode + \"\";\r\n\r\n        this.type = DataSanitizer.sanitizeString(logger, requestAPI);\r\n\r\n        var dependencyFields = AjaxHelper.ParseDependencyPath(logger, absoluteUrl, method, commandName);\r\n        this.data = DataSanitizer.sanitizeUrl(logger, commandName) || dependencyFields.data; // get a value from hosturl if commandName not available\r\n        this.target = DataSanitizer.sanitizeString(logger, dependencyFields.target);\r\n        this.name = DataSanitizer.sanitizeString(logger, dependencyFields.name);\r\n\r\n        this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n        this.measurements = DataSanitizer.sanitizeMeasurements(logger, measurements);\r\n    }\r\n}\r\n"]}